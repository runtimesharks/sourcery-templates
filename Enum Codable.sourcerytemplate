{"version":3,"instance":"eyJpZCI6IjE0Mjc2NjRBLUQ1RDYtNDM5Qi05NTUwLTYxOUY4RjVGODM0NiIsImRlc2NyaXB0aW9uIjoiR2VuZXJhdGVzIGNvZGFibGUgZm9yIGVudW1zIHdpdGggYXNzb2NpYXRlZCB2YWx1ZXMiLCJjb250ZW50IjoieyUgbWFjcm8gYXNzb2NpYXRlZFZhbHVlTmFtZSBjYXNlQXNzb2NpYXRlZFZhbHVlIGluZGV4ICV9eyUgdHlwZWQgY2FzZUFzc29jaWF0ZWRWYWx1ZSBhcyBBc3NvY2lhdGVkVmFsdWUgaW5kZXggYXMgSW50ICV9eyUgaWYgY2FzZUFzc29jaWF0ZWRWYWx1ZS5sb2NhbE5hbWUgJX17eyBjYXNlQXNzb2NpYXRlZFZhbHVlLmxvY2FsTmFtZSB9fXslIGVsc2UgJX1hc3NvY2lhdGVkVmFsdWV7eyBpbmRleCB9fXslIGVuZGlmICV9eyUgZW5kbWFjcm8gJX1cbnslIG1hY3JvIGV4cGFuZEFzc29jaWF0ZWRWYWx1ZXMgYXJyYXkgJX17JSB0eXBlZCBhcnJheSBhcyBbQXNzb2NpYXRlZFZhbHVlXSAlfXslIGZvciB2YWx1ZSBpbiBhcnJheSAlfXslIGNhbGwgYXNzb2NpYXRlZFZhbHVlTmFtZSB2YWx1ZSBmb3Jsb29wLmNvdW50ZXIwICV9e3sgJywgJyBpZiBub3QgZm9ybG9vcC5sYXN0IH19eyUgZW5kZm9yICV9eyUgZW5kbWFjcm8gJX1cblxueyUgbWFjcm8gY2FzZURlY29kZXIgY2FzZSAlfVxueyUgdHlwZWQgY2FzZSBhcyBFbnVtQ2FzZSAlfVxueyUgaWYgY2FzZS5oYXNBc3NvY2lhdGVkVmFsdWUgJX1cbiAgICAgICAgY2FzZSBcInt7IGNhc2UubmFtZSB9fVwiOlxuICAgICAgICAgICAgbGV0IHN1YkNvbnRhaW5lciA9IHRyeSBjb250YWluZXIubmVzdGVkQ29udGFpbmVyKGtleWVkQnk6IENvZGluZ0tleXMue3sgY2FzZS5uYW1lIHwgdXBwZXJGaXJzdExldHRlciB9fUtleXMuc2VsZiwgZm9yS2V5OiAuYXNzb2NpYXRlZFZhbHVlcylcbiAgICAgICAgICAgIHslIGZvciB2YWx1ZSBpbiBjYXNlLmFzc29jaWF0ZWRWYWx1ZXMgJX1cbiAgICAgICAgICAgIGxldCBhc3NvY2lhdGVkVmFsdWVze3sgZm9ybG9vcC5jb3VudGVyMCB9fSA9IHRyeSBzdWJDb250YWluZXIuZGVjb2RlKHt7IHZhbHVlLnR5cGVOYW1lIH19LnNlbGYsIGZvcktleTogLnslIGNhbGwgYXNzb2NpYXRlZFZhbHVlTmFtZSB2YWx1ZSBmb3Jsb29wLmNvdW50ZXIwICV9KVxuICAgICAgICAgICAgeyUgZW5kZm9yICV9XG4gICAgICAgICAgICBzZWxmID0gLnt7IGNhc2UubmFtZSB9fSh7JSBmb3IgdmFsdWUgaW4gY2FzZS5hc3NvY2lhdGVkVmFsdWVzICV9eyUgaWYgdmFsdWUubG9jYWxOYW1lICV9e3sgdmFsdWUubG9jYWxOYW1lIH19OiB7JSBlbmRpZiAlfWFzc29jaWF0ZWRWYWx1ZXN7eyBmb3Jsb29wLmNvdW50ZXIwIH19e3sgJywgJyBpZiBub3QgZm9ybG9vcC5sYXN0IH19eyUgZW5kZm9yICV9KVxueyUgZWxzZSAlfVxuICAgICAgICBjYXNlIFwie3sgY2FzZS5uYW1lIH19XCI6XG4gICAgICAgICAgICBzZWxmID0gLnt7IGNhc2UubmFtZSB9fVxueyUgZW5kaWYgJX1cbnslIGVuZG1hY3JvICV9XG5cbnslIG1hY3JvIGNhc2VFbmNvZGVyIGNhc2UgJX1cbnslIHR5cGVkIGNhc2UgYXMgRW51bUNhc2UgJX1cbnslIGlmIGNhc2UuaGFzQXNzb2NpYXRlZFZhbHVlICV9XG4gICAgICAgIGNhc2UgbGV0IC57eyBjYXNlLm5hbWUgfX0oeyUgY2FsbCBleHBhbmRBc3NvY2lhdGVkVmFsdWVzIGNhc2UuYXNzb2NpYXRlZFZhbHVlcyAlfSk6XG4gICAgICAgICAgICB0cnkgY29udGFpbmVyLmVuY29kZShcInt7IGNhc2UubmFtZSB9fVwiLCBmb3JLZXk6IC50eXBlKVxuICAgICAgICAgICAgdmFyIHN1YkNvbnRhaW5lciA9IGNvbnRhaW5lci5uZXN0ZWRDb250YWluZXIoa2V5ZWRCeTogQ29kaW5nS2V5cy57eyBjYXNlLm5hbWUgfCB1cHBlckZpcnN0TGV0dGVyIH19S2V5cy5zZWxmLCBmb3JLZXk6IC5hc3NvY2lhdGVkVmFsdWVzKVxuICAgICAgICAgICAgeyUgZm9yIHZhbHVlIGluIGNhc2UuYXNzb2NpYXRlZFZhbHVlcyAlfSAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB7JSBpZiB2YWx1ZS5hbm5vdGF0aW9ucy5DdXN0b21FbmNvZGVyICV9XG4gICAgICAgICAgICB0cnkgc3ViQ29udGFpbmVyLmVuY29kZSh7eyB2YWx1ZS5hbm5vdGF0aW9ucy5DdXN0b21FbmNvZGVyIH19KHslIGNhbGwgYXNzb2NpYXRlZFZhbHVlTmFtZSB2YWx1ZSBmb3Jsb29wLmNvdW50ZXIwICV9KSwgZm9yS2V5OiAueyUgY2FsbCBhc3NvY2lhdGVkVmFsdWVOYW1lIHZhbHVlIGZvcmxvb3AuY291bnRlcjAgJX0pXG4gICAgICAgICAgICAgICAgeyUgZWxzZSAlfVxuICAgICAgICAgICAgdHJ5IHN1YkNvbnRhaW5lci5lbmNvZGUoeyUgY2FsbCBhc3NvY2lhdGVkVmFsdWVOYW1lIHZhbHVlIGZvcmxvb3AuY291bnRlcjAgJX0sIGZvcktleTogLnslIGNhbGwgYXNzb2NpYXRlZFZhbHVlTmFtZSB2YWx1ZSBmb3Jsb29wLmNvdW50ZXIwICV9KVxuICAgICAgICAgICAgICAgIHslIGVuZGlmICV9XG4gICAgICAgICAgICB7JSBlbmRmb3IgJX1cbnslIGVsc2UgJX1cbiAgICAgICAgY2FzZSAue3sgY2FzZS5uYW1lIH19OlxuICAgICAgICAgICAgdHJ5IGNvbnRhaW5lci5lbmNvZGUoXCJ7eyBjYXNlLm5hbWUgfX1cIiwgZm9yS2V5OiAudHlwZSlcbnslIGVuZGlmICV9XG57JSBlbmRtYWNybyAlfVxuXG57JSBtYWNybyBjYXNlS2V5cyBjYXNlICV9XG57JSB0eXBlZCBjYXNlIGFzIEVudW1DYXNlICV9XG57JSBpZiBjYXNlLmhhc0Fzc29jaWF0ZWRWYWx1ZSAlfVxuICAgICAgICBlbnVtIHt7IGNhc2UubmFtZSB8IHVwcGVyRmlyc3RMZXR0ZXIgfX1LZXlzOiBTdHJpbmcsIENvZGluZ0tleSB7XG4gICAgICAgICAgICB7JSBmb3IgdmFsdWUgaW4gY2FzZS5hc3NvY2lhdGVkVmFsdWVzICV9XG4gICAgICAgICAgICBjYXNlIHslIGNhbGwgYXNzb2NpYXRlZFZhbHVlTmFtZSB2YWx1ZSBmb3Jsb29wLmNvdW50ZXIwICV9XG4gICAgICAgICAgICB7JSBlbmRmb3IgJX1cbiAgICAgICAgfVxueyUgZW5kaWYgJX1cbnslIGVuZG1hY3JvICV9XG5cbnslIGZvciB0eXBlIGluIHR5cGVzLmVudW1zICV9XG5leHRlbnNpb24ge3sgdHlwZS5uYW1lIH19OiBDb2RhYmxlIHtcblxuICAgIGVudW0gQ29kaW5nS2V5czogU3RyaW5nLCBDb2RpbmdLZXkge1xuICAgICAgICBjYXNlIHR5cGVcbiAgICAgICAgY2FzZSBhc3NvY2lhdGVkVmFsdWVzXG4gICAgICAgIHslIGZvciBjYXNlIGluIHR5cGUuY2FzZXMgJX1cblxuICAgICAgICB7JSBjYWxsIGNhc2VLZXlzIGNhc2UgJX1cbiAgICAgICAgeyUgZW5kZm9yICV9XG4gICAgfVxuXG4gICAgeyUgaWYgbm90IHR5cGUuYW5ub3RhdGlvbnMuRW51bUNvZGFibGUgPT0gXCJFbmNvZGVPbmx5XCIgYW5kIG5vdCB0eXBlLmJhc2VkLkVuY29kYWJsZSAlfVxuICAgIGluaXQoZnJvbSBkZWNvZGVyOiBEZWNvZGVyKSB0aHJvd3Mge1xuICAgICAgICBsZXQgY29udGFpbmVyID0gdHJ5IGRlY29kZXIuY29udGFpbmVyKGtleWVkQnk6IENvZGluZ0tleXMuc2VsZilcblxuICAgICAgICBzd2l0Y2ggdHJ5IGNvbnRhaW5lci5kZWNvZGUoU3RyaW5nLnNlbGYsIGZvcktleTogLnR5cGUpIHtcbiAgICAgICAgeyUgZm9yIGNhc2UgaW4gdHlwZS5jYXNlcyAlfVxuICAgICAgICB7JSBjYWxsIGNhc2VEZWNvZGVyIGNhc2UgJX1cbiAgICAgICAgeyUgZW5kZm9yICV9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBEZWNvZGluZ0Vycm9yLmtleU5vdEZvdW5kKENvZGluZ0tleXMudHlwZSwgLmluaXQoY29kaW5nUGF0aDogY29udGFpbmVyLmNvZGluZ1BhdGgsIGRlYnVnRGVzY3JpcHRpb246IFwiVW5rbm93biBrZXlcIikpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB7JSBlbmRpZiAlfVxuICAgIHslIGlmIG5vdCB0eXBlLmFubm90YXRpb25zLkVudW1Db2RhYmxlID09IFwiRGVjb2RlT25seVwiIGFuZCBub3QgdHlwZS5iYXNlZC5EZWNvZGFibGUgJX1cbiAgICBmdW5jIGVuY29kZSh0byBlbmNvZGVyOiBFbmNvZGVyKSB0aHJvd3Mge1xuICAgICAgICB2YXIgY29udGFpbmVyID0gZW5jb2Rlci5jb250YWluZXIoa2V5ZWRCeTogQ29kaW5nS2V5cy5zZWxmKVxuXG4gICAgICAgIHN3aXRjaCBzZWxmIHtcbiAgICAgICAgeyUgZm9yIGNhc2UgaW4gdHlwZS5jYXNlcyAlfVxuICAgICAgICB7JSBjYWxsIGNhc2VFbmNvZGVyIGNhc2UgJX1cbiAgICAgICAgeyUgZW5kZm9yICV9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB7JSBlbmRpZiAlfVxufVxueyUgZW5kZm9yICV9XG4iLCJ2ZXJzaW9uIjozLCJmYXZvcml0ZSI6dHJ1ZSwiYXV0aG9yIjoiIiwiZ2VuZXJhdGVkQ29kZSI6ImV4dGVuc2lvbiBFbnVtV2l0aEFzc29jaWF0ZWRWYWx1ZXM6IENvZGFibGUge1xuXG4gICAgZW51bSBDb2RpbmdLZXlzOiBTdHJpbmcsIENvZGluZ0tleSB7XG4gICAgICAgIGNhc2UgdHlwZVxuICAgICAgICBjYXNlIGFzc29jaWF0ZWRWYWx1ZXNcblxuICAgICAgICBlbnVtIEZpcnN0S2V5czogU3RyaW5nLCBDb2RpbmdLZXkge1xuICAgICAgICAgICAgY2FzZSBuYW1lZFxuICAgICAgICB9XG5cbiAgICAgICAgZW51bSBTZWNvbmRLZXlzOiBTdHJpbmcsIENvZGluZ0tleSB7XG4gICAgICAgICAgICBjYXNlIGFzc29jaWF0ZWRWYWx1ZTBcbiAgICAgICAgICAgIGNhc2Ugd2l0aFxuICAgICAgICB9XG5cbiAgICAgICAgZW51bSBUaGlyZEtleXM6IFN0cmluZywgQ29kaW5nS2V5IHtcbiAgICAgICAgICAgIGNhc2UgYXNzb2NpYXRlZFZhbHVlMFxuICAgICAgICAgICAgY2FzZSBhc3NvY2lhdGVkVmFsdWUxXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbml0KGZyb20gZGVjb2RlcjogRGVjb2RlcikgdGhyb3dzIHtcbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IHRyeSBkZWNvZGVyLmNvbnRhaW5lcihrZXllZEJ5OiBDb2RpbmdLZXlzLnNlbGYpXG5cbiAgICAgICAgc3dpdGNoIHRyeSBjb250YWluZXIuZGVjb2RlKFN0cmluZy5zZWxmLCBmb3JLZXk6IC50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJmaXJzdFwiOlxuICAgICAgICAgICAgbGV0IHN1YkNvbnRhaW5lciA9IHRyeSBjb250YWluZXIubmVzdGVkQ29udGFpbmVyKGtleWVkQnk6IENvZGluZ0tleXMuRmlyc3RLZXlzLnNlbGYsIGZvcktleTogLmFzc29jaWF0ZWRWYWx1ZXMpXG4gICAgICAgICAgICBsZXQgYXNzb2NpYXRlZFZhbHVlczAgPSB0cnkgc3ViQ29udGFpbmVyLmRlY29kZShJbnQuc2VsZiwgZm9yS2V5OiAubmFtZWQpXG4gICAgICAgICAgICBzZWxmID0gLmZpcnN0KG5hbWVkOiBhc3NvY2lhdGVkVmFsdWVzMClcbiAgICAgICAgY2FzZSBcInNlY29uZFwiOlxuICAgICAgICAgICAgbGV0IHN1YkNvbnRhaW5lciA9IHRyeSBjb250YWluZXIubmVzdGVkQ29udGFpbmVyKGtleWVkQnk6IENvZGluZ0tleXMuU2Vjb25kS2V5cy5zZWxmLCBmb3JLZXk6IC5hc3NvY2lhdGVkVmFsdWVzKVxuICAgICAgICAgICAgbGV0IGFzc29jaWF0ZWRWYWx1ZXMwID0gdHJ5IHN1YkNvbnRhaW5lci5kZWNvZGUoSW50LnNlbGYsIGZvcktleTogLmFzc29jaWF0ZWRWYWx1ZTApXG4gICAgICAgICAgICBsZXQgYXNzb2NpYXRlZFZhbHVlczEgPSB0cnkgc3ViQ29udGFpbmVyLmRlY29kZShTdHJpbmcuc2VsZiwgZm9yS2V5OiAud2l0aClcbiAgICAgICAgICAgIHNlbGYgPSAuc2Vjb25kKGFzc29jaWF0ZWRWYWx1ZXMwLCB3aXRoOiBhc3NvY2lhdGVkVmFsdWVzMSlcbiAgICAgICAgY2FzZSBcInRoaXJkXCI6XG4gICAgICAgICAgICBsZXQgc3ViQ29udGFpbmVyID0gdHJ5IGNvbnRhaW5lci5uZXN0ZWRDb250YWluZXIoa2V5ZWRCeTogQ29kaW5nS2V5cy5UaGlyZEtleXMuc2VsZiwgZm9yS2V5OiAuYXNzb2NpYXRlZFZhbHVlcylcbiAgICAgICAgICAgIGxldCBhc3NvY2lhdGVkVmFsdWVzMCA9IHRyeSBzdWJDb250YWluZXIuZGVjb2RlKFN0cmluZy5zZWxmLCBmb3JLZXk6IC5hc3NvY2lhdGVkVmFsdWUwKVxuICAgICAgICAgICAgbGV0IGFzc29jaWF0ZWRWYWx1ZXMxID0gdHJ5IHN1YkNvbnRhaW5lci5kZWNvZGUoSW50LnNlbGYsIGZvcktleTogLmFzc29jaWF0ZWRWYWx1ZTEpXG4gICAgICAgICAgICBzZWxmID0gLnRoaXJkKGFzc29jaWF0ZWRWYWx1ZXMwLCBhc3NvY2lhdGVkVmFsdWVzMSlcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IERlY29kaW5nRXJyb3Iua2V5Tm90Rm91bmQoQ29kaW5nS2V5cy50eXBlLCAuaW5pdChjb2RpbmdQYXRoOiBjb250YWluZXIuY29kaW5nUGF0aCwgZGVidWdEZXNjcmlwdGlvbjogXCJVbmtub3duIGtleVwiKSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmMgZW5jb2RlKHRvIGVuY29kZXI6IEVuY29kZXIpIHRocm93cyB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSBlbmNvZGVyLmNvbnRhaW5lcihrZXllZEJ5OiBDb2RpbmdLZXlzLnNlbGYpXG5cbiAgICAgICAgc3dpdGNoIHNlbGYge1xuICAgICAgICBjYXNlIGxldCAuZmlyc3QobmFtZWQpOlxuICAgICAgICAgICAgdHJ5IGNvbnRhaW5lci5lbmNvZGUoXCJmaXJzdFwiLCBmb3JLZXk6IC50eXBlKVxuICAgICAgICAgICAgdmFyIHN1YkNvbnRhaW5lciA9IGNvbnRhaW5lci5uZXN0ZWRDb250YWluZXIoa2V5ZWRCeTogQ29kaW5nS2V5cy5GaXJzdEtleXMuc2VsZiwgZm9yS2V5OiAuYXNzb2NpYXRlZFZhbHVlcylcbiAgICAgICAgICAgIHRyeSBzdWJDb250YWluZXIuZW5jb2RlKG5hbWVkLCBmb3JLZXk6IC5uYW1lZClcbiAgICAgICAgY2FzZSBsZXQgLnNlY29uZChhc3NvY2lhdGVkVmFsdWUwLCB3aXRoKTpcbiAgICAgICAgICAgIHRyeSBjb250YWluZXIuZW5jb2RlKFwic2Vjb25kXCIsIGZvcktleTogLnR5cGUpXG4gICAgICAgICAgICB2YXIgc3ViQ29udGFpbmVyID0gY29udGFpbmVyLm5lc3RlZENvbnRhaW5lcihrZXllZEJ5OiBDb2RpbmdLZXlzLlNlY29uZEtleXMuc2VsZiwgZm9yS2V5OiAuYXNzb2NpYXRlZFZhbHVlcylcbiAgICAgICAgICAgIHRyeSBzdWJDb250YWluZXIuZW5jb2RlKGFzc29jaWF0ZWRWYWx1ZTAsIGZvcktleTogLmFzc29jaWF0ZWRWYWx1ZTApXG4gICAgICAgICAgICB0cnkgc3ViQ29udGFpbmVyLmVuY29kZSh3aXRoLCBmb3JLZXk6IC53aXRoKVxuICAgICAgICBjYXNlIGxldCAudGhpcmQoYXNzb2NpYXRlZFZhbHVlMCwgYXNzb2NpYXRlZFZhbHVlMSk6XG4gICAgICAgICAgICB0cnkgY29udGFpbmVyLmVuY29kZShcInRoaXJkXCIsIGZvcktleTogLnR5cGUpXG4gICAgICAgICAgICB2YXIgc3ViQ29udGFpbmVyID0gY29udGFpbmVyLm5lc3RlZENvbnRhaW5lcihrZXllZEJ5OiBDb2RpbmdLZXlzLlRoaXJkS2V5cy5zZWxmLCBmb3JLZXk6IC5hc3NvY2lhdGVkVmFsdWVzKVxuICAgICAgICAgICAgdHJ5IHN1YkNvbnRhaW5lci5lbmNvZGUoYXNzb2NpYXRlZFZhbHVlMCwgZm9yS2V5OiAuYXNzb2NpYXRlZFZhbHVlMClcbiAgICAgICAgICAgIHRyeSBzdWJDb250YWluZXIuZW5jb2RlKGFzc29jaWF0ZWRWYWx1ZTEsIGZvcktleTogLmFzc29jaWF0ZWRWYWx1ZTEpXG4gICAgICAgIH1cbiAgICB9XG5cbn0iLCJ1cmwiOiIiLCJyZWdlbmVyYXRpb25Db3VudGVyIjoxLCJmaWxlVVJMIjoiZmlsZTpcL1wvXC9Vc2Vyc1wvcm9sYW5kXC9fV29ya1wvUnVudGltZVNoYXJrc1wvUGVyc29uYWxcL3NvdXJjZXJ5LXRlbXBsYXRlc1wvRW51bSUyMENvZGFibGUuc291cmNlcnl0ZW1wbGF0ZSIsInJ1bkNvbmZpZ3VyYXRpb24iOiJzZWxlY3Rpb24iLCJzYW1wbGVDb2RlIjoiZW51bSBFbnVtV2l0aEFzc29jaWF0ZWRWYWx1ZXMge1xuICAgIGNhc2UgZmlyc3QobmFtZWQ6IEludClcbiAgICBjYXNlIHNlY29uZChJbnQsIHdpdGg6IFN0cmluZylcbiAgICBjYXNlIHRoaXJkKFN0cmluZywgSW50KVxufSIsImlzTG9ja2VkIjpmYWxzZSwia2luZCI6InN0ZW5jaWwiLCJ0cmltV2hpdGVzcGFjZXMiOnRydWUsIm5hbWUiOiJFbnVtIENvZGFibGUiLCJpbnNlcnRpb25Nb2RlIjoiZW5kT2ZGaWxlIn0="}